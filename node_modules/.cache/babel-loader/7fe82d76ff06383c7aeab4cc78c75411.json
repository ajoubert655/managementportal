{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\aljou\\\\Documents\\\\Bitbucket\\\\management-portal\\\\src\\\\containers\\\\ResetPassword\\\\ResetPassword.js\";\nimport React, { Component } from 'react';\nimport { Auth } from 'aws-amplify';\nimport { withRouter } from 'react-router-dom';\nimport classes from './ResetPassword.module.css';\n\nclass ResetPassword extends Component {\n  constructor() {\n    super();\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      let emailField = document.getElementById('email');\n      let regEx = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      let isValid = regEx.test(emailField.value);\n\n      if (emailField.value === \"\") {\n        document.getElementById('errorMessage').innerHTML = 'Please enter your email';\n      } else if (!isValid) {\n        document.getElementById(\"errorMessage\").innerHTML = 'Please enter a valid email address';\n      } else {\n        document.getElementById(\"errorMessage\").innerHTML = ''; // cognito integration\n\n        try {\n          await Auth.forgotPassword(this.state.email);\n          this.props.history.push('/reset-password-verification');\n        } catch (error) {\n          alert(error);\n        }\n      }\n    };\n\n    this.state = {\n      email: ''\n    };\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n  } // update state when value of email field changes\n\n\n  handleEmailChange(event) {\n    this.setState({\n      email: event.target.value\n    });\n  } // perform validation and submit request\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: classes.main,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.wrapper,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: classes.header,\n          children: \"Change your password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please enter the email address associated with your account, and we'll email you a password reset link.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"email\",\n            className: classes.inputField,\n            name: \"email\",\n            placeholder: \"Email\",\n            onChange: this.handleEmailChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"errorMessage\",\n            className: classes.errorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Submit\",\n            className: classes.button\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(ResetPassword);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/aljou/Documents/Bitbucket/management-portal/src/containers/ResetPassword/ResetPassword.js"],"names":["React","Component","Auth","withRouter","classes","ResetPassword","constructor","handleSubmit","event","preventDefault","emailField","document","getElementById","regEx","isValid","test","value","innerHTML","forgotPassword","state","email","props","history","push","error","alert","handleEmailChange","bind","setState","target","render","main","wrapper","header","inputField","errorMessage","button"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Auth} from 'aws-amplify';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nimport classes from './ResetPassword.module.css';\r\n\r\nclass ResetPassword extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: ''\r\n    }\r\n\r\n    this.handleEmailChange = this.handleEmailChange.bind(this);\r\n  }\r\n\r\n  // update state when value of email field changes\r\n  handleEmailChange(event) {\r\n    this.setState({email: event.target.value});\r\n  }\r\n\r\n  // perform validation and submit request\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    let emailField = document.getElementById('email');\r\n    \r\n    let regEx = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    let isValid= regEx.test(emailField.value);\r\n    \r\n    if (emailField.value === \"\"){\r\n      document.getElementById('errorMessage').innerHTML='Please enter your email'\r\n    }\r\n    else if (!isValid) {\r\n      document.getElementById(\"errorMessage\").innerHTML='Please enter a valid email address'\r\n    }\r\n    else {\r\n      document.getElementById(\"errorMessage\").innerHTML=''\r\n\r\n      // cognito integration\r\n      try {\r\n        await Auth.forgotPassword(this.state.email);\r\n        this.props.history.push('/reset-password-verification')\r\n      } catch(error) {\r\n        alert(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <main className={classes.main}>\r\n        <div className={classes.wrapper}>\r\n          <h3 className={classes.header}>Change your password</h3>\r\n          <p>Please enter the email address associated with your account, and we'll email you a password reset link.</p>\r\n\r\n          <form onSubmit={this.handleSubmit}>\r\n            <input\r\n              type='text'\r\n              id='email'\r\n              className={classes.inputField}\r\n              name='email'\r\n              placeholder='Email'\r\n              onChange={this.handleEmailChange}\r\n            />\r\n            <br />\r\n\r\n            <span\r\n              id='errorMessage'\r\n              className={classes.errorMessage}\r\n            />\r\n            <br />\r\n\r\n            <input\r\n              type='submit'\r\n              value='Submit'\r\n              className={classes.button}\r\n            >\r\n            </input>\r\n          </form>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(ResetPassword);"]},"metadata":{},"sourceType":"module"}